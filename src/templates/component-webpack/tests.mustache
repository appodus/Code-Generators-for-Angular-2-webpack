import {beforeEach, beforeEachProviders, describe, expect, it, inject} from '@angular/core/testing';
import {ComponentFixture, TestComponentBuilder} from '@angular/compiler/testing';
import {Component} from '@angular/core';
import {By} from '@angular/platform-browser';

import { {{className}} } from './{{componentName}}.component';


describe('{{className}}:', () => {

    let tcb: TestComponentBuilder;
    beforeEachProviders(() => [{{className}}]);
    beforeEach(inject([TestComponentBuilder], (_tcb: TestComponentBuilder) => {
        tcb = _tcb;
    }));

    it('should inject the component', inject([{{className}}], (component: {{className}}) => {
        expect(component).toBeTruthy();
    }));

    it('should create the component', inject([], () => {
        tcb.createAsync(TestComponent)
            .then((fixture: ComponentFixture<TestComponent>) => {
                let query = fixture.debugElement.query(By.directive({{className}}));
                expect(query).toBeTruthy();
                expect(query.componentInstance).toBeTruthy();
            });
    }));

});

@Component({
  selector: 'test',
  template: `
    <{{componentName}}></{{componentName}}>
  `,
  directives: [{{className}}]
})
class TestComponent {
}
